\p
فرض کنید دنباله 
$d_n$ 
 تعداد رشته‌های ممکن با شرایط مذکور
باشد.
ضریب 
‌جمله‌ی 
$n$ام
در تابع مولد نمایی 
 این دنباله،
 پاسخ مسئله است.
برای هر رقم یک تابع مولد نمایی در نظر می‌گیریم که تعداد حالت‌های انتخاب‌ هر یک از رقم‌ها را می‌شمارد.
\begin{itemize}
\item
برای هر یک از ارقام
$1$
و 
$2$
 محدودیتی وجود ندارد. در نتیجه داریم:
$$\text{تابع مولد نمایی رقم 1} = G_1(x) = \sum\limits_{n=0}^{\infty}\frac{x^n}{n!} = e^x$$
$$\text{تابع مولد نمایی رقم 2} = G_2(x) = \sum\limits_{n=0}^{\infty}\frac{x^n}{n!} = e^x$$
\item
تعداد  
$0$
باید زوج باشد:
$$\text{تابع مولد نمایی رقم 0} = G_0(x) = \sum\limits_{n=0}^{\infty}\frac{x^{2n}}{(2n)!} = 1 + \frac{x^2}{2!} + \frac{x^4}{4!} + \cdots = \frac{e^x + e^{-x}}{2}$$
\end{itemize}
طبق اصل ضرب،
تابع مولد رشته نهایی برابر
 حاصل‌ضرب توابع مولد هر یک از ارقام 
 $0$
و
$1$
و 
$2$
 خواهد بود:
$$G(x) = G_0(x)G_1(x)G_2(x) = (\frac{e^x + e^{-x}}{2})(e^x)(e^{x}) = \frac{e^{3x} + e^x}{2}$$

برای به دست آوردن ضریب
$\frac{x^n}{n!}$
 در تابع مولد نمایی
 $G(x)$،
  بسط آن را می‌نویسیم: 
  \begin{align*}
    \frac{e^{3x} + e^x}{2} = \frac{1}{2}(\sum\limits_{n=0}^{\infty}\frac{(3x)^n}{n!} + \sum\limits_{n=0}^{\infty}\frac{x^n}{n!}) =\frac{1}{2}\sum\limits_{n=0}^{\infty}(3^n + 1)\frac{x^n}{n!}
  \end{align*}

بنابراین جواب نهایی برابر است با:
$$\frac{3^n+1}{2}$$

